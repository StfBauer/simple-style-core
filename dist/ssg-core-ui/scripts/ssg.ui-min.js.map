{"version":3,"sources":["ssgCore.template.js","ssg.ui.js","ssg.ui.helper.js"],"names":["Handlebars","registerPartial","template","compiler","main","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","helperMissing","alias3","alias4","escapeExpression","action","call","name","hash","title","useData","this","index","prevEnabled","nextEnabled","stack1","baseFilter","filename","description","sample","width","height","ssg","ssg_1","UI","win","window","doc","document","ssgCoreTemplates","ssgCore","templates","ssgTemplates","patternConfig","currentSingleItems","currentSingleCount","viewports","State","coreUiElement","active","hidden","show","STATE_KEY","XTRAS","FILTERS","_currentUIState","defState","filter","xtras","screen","availWidth","_updateState","state","curState","checkSumXtras","checkSumFilter","checkSumScreen","i","length","indexOf","parseInt","toString","exception","console","log","_validateState","localStorage","setItem","JSON","stringify","sessionState","getItem","parse","current","update","Utils","requestData","method","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","response","statusText","onerror","send","changeItemToSinglePage","nodes","nodeCount","curNode","classList","contains","remove","add","hideSingleItemSlider","hide","singleItemSelector","querySelector","undefined","Filter","sliderSelection","allElements","querySelectorAll","firstItemFound","curElement","dataset","curSingleItem","getAttribute","file","category","push","EnableSingleSlider","elements","filterValue","newState","initDisco","disco","setInterval","discoButton","viewPortInner","viewPortWidth","curViewPort","Math","floor","random","value","style","clearInterval","Events","changeFilter","event","preventDefault","allButtons","curButton","target","tocButton","changeView","changeViewPort","vpButton","vpActiveButton","vpData","vpTarget","widthInput","innerWidth","viewPortResizer","KeyboardEvent","keyCode","innerPattern","newWidth","showSource","stopImmediatePropagation","newXtras","e","codeBlocks","showAnnotation","showToc","currentButton","containerToc","filterToc","currentToc","filterFolder","filterCat","parentNode","attributes","getNamedItem","btnShowToC","filterSelector","split","filterButtons","curFilterButton","curFilterStyle","curDataSet","tocElement","curItem","searchToc","searchBox","getElementById","searchValue","resetResult","j","searchResult","registerEvents","curElements","eventType","handler","addEventListener","Render","allContent","parser","DOMParser","patterns","curPattern","curPatternTitle","curTemplate","filepath","ssgData","content","patternItem","parseFromString","body","innerHTML","allContentDOM","allTempLates","allPages","allOrganism","insertAdjacentHTML","Prism","highlightAll","object","folder","ssgToc","baseElement","folderpath","patternTitle","currentSection","tocItems","k","RenderToc","ApplyUIState","buttons","query","invQuery","substr","notSelItems","selItems","cat","curFilter","allAMItems","slice","allOPTItems","allItems","concat","applyFilter","viewPortQuery","viewPortActiveButton","viewPortButton","widthSelector","contentWidth","applyScreenWidth","notes","notesButton","applyExtras","slideItems","setCurrentItem","currentTitle","textContent","curPatternElement","slidePatterns","stopPropagation","slider","newButton","cloneNode","replaceChild","findIndex","x","substring","ShowSliderCtrl","singleSliderControl","InitEvents","viewButtons","viewPortButtons","showCode","showAnnot","allTocItems","Init","all","then","result","error","PostRender","forEach","element","catch","registerHelper","block","markdownKey","root","ssgDoc","SafeString"],"mappings":"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","sourcesContent":["Handlebars.registerPartial(\"buttons\",Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<button id=\\\"ssg-btn\"\n    + alias4(((helper = (helper = helpers.action || (depth0 != null ? depth0.action : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"action\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" class=\\\"ssg-btn \"\n    + alias4(((helper = (helper = helpers[\"class\"] || (depth0 != null ? depth0[\"class\"] : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"class\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</button>\";\n},\"useData\":true}));\nthis[\"ssgCore\"] = this[\"ssgCore\"] || {};\nthis[\"ssgCore\"][\"templates\"] = this[\"ssgCore\"][\"templates\"] || {};\nthis[\"ssgCore\"][\"templates\"][\"addTools\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div id=\\\"ssg-add-tools\\\">\\n</div>\";\n},\"useData\":true});\nthis[\"ssgCore\"][\"templates\"][\"itemselector\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div id=\\\"ssg-items\\\" data-item-index=\\\"\"\n    + alias4(((helper = (helper = helpers.index || (depth0 != null ? depth0.index : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"index\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\t<button class=\\\"ssg-btn prev\\\" \"\n    + alias4(((helper = (helper = helpers.prevEnabled || (depth0 != null ? depth0.prevEnabled : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"prevEnabled\",\"hash\":{},\"data\":data}) : helper)))\n    + \" >&lt;</button>\\n\t<span class=\\\"item-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span>\\n\t<button class=\\\"ssg-btn next\\\" \"\n    + alias4(((helper = (helper = helpers.nextEnabled || (depth0 != null ? depth0.nextEnabled : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"nextEnabled\",\"hash\":{},\"data\":data}) : helper)))\n    + \" >&gt;</button>\\n</div>\";\n},\"useData\":true});\nthis[\"ssgCore\"][\"templates\"][\"patternItem\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class=\\\"ssg-item\\\" data-cat=\\\"\"\n    + alias4(((helper = (helper = helpers.baseFilter || (depth0 != null ? depth0.baseFilter : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"baseFilter\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\" data-file=\\\"\"\n    + alias4(((helper = (helper = helpers.filename || (depth0 != null ? depth0.filename : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filename\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\t<div class=\\\"ssg-item-header\\\">\\n\t\t<div class=\\\"ssg-item-title\\\">\"\n    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\t\t<div class=\\\"ssg-item-description\\\">\\n\t\t\t<div class=\\\"ssg-docs\\\">\"\n    + alias4(((helper = (helper = helpers.description || (depth0 != null ? depth0.description : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"description\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</div>\\n\t\t<b class=\\\"ssg-pattern-label\\\">Pattern name:</b><span class=\\\"ssg-pattern-name\\\">\"\n    + alias4(((helper = (helper = helpers.filename || (depth0 != null ? depth0.filename : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"filename\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</span></div>\\n\t</div>\\n\t<div class=\\\"sample\\\">\"\n    + ((stack1 = ((helper = (helper = helpers.sample || (depth0 != null ? depth0.sample : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sample\",\"hash\":{},\"data\":data}) : helper))) != null ? stack1 : \"\")\n    + \"</div>\\n\t<pre class=\\\"ssg-item-code\\\"><code class='language-markup'>\"\n    + alias4(((helper = (helper = helpers.sample || (depth0 != null ? depth0.sample : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"sample\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</code></pre>\\n</div>\";\n},\"useData\":true});\nthis[\"ssgCore\"][\"templates\"][\"test\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"ello\\\"></div>\";\n},\"useData\":true});\nthis[\"ssgCore\"][\"templates\"][\"vpresizer\"] = Handlebars.template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"\\n\t<input type=\\\"numeric\\\" id=\\\"ssg-vp-w\\\" class=\\\"ssg-input-s\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.width || (depth0 != null ? depth0.width : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"width\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\t<span id=\\\"ssg-vp-by\\\">x</span>\\n\t<input type=\\\"numeric\\\" id=\\\"ssg-vp-h\\\" class=\\\"ssg-input-s\\\" value=\\\"\"\n    + alias4(((helper = (helper = helpers.height || (depth0 != null ? depth0.height : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"height\",\"hash\":{},\"data\":data}) : helper)))\n    + \"\\\">\\n\t<button id=\\\"ssg-btn-disco\\\" class=\\\"ssg-btn\\\">Disco</button>\\n\";\n},\"useData\":true});","/// <reference path=\"../../typings/index.d.ts\" />\n;\nvar ssg;\n(function (ssg_1) {\n    var UI;\n    (function (UI) {\n        var win = window, doc = document, ssgCoreTemplates = ssgCore.templates, ssgTemplates = ssg.templates, patternConfig = null, currentSingleItems = [], currentSingleCount = 0, currentUIState = ssg.UI.State;\n        var viewports = [\n            320,\n            768,\n            1024,\n            3500\n        ];\n        var coreUiElement = {\n            filterButton: '.ssg-core-filter .ssg-button',\n            viewButton: '.ssg-core-view .ssg-button',\n            viewPortButton: '.ssg-core-viewport .ssg-button',\n            viewPortTarget: '.ssg-patterns-inner',\n            viewPortWidth: '#ssg-in-width',\n            viewToc: '.ssg-toc',\n            viewTocInner: '.ssg-toc-inner',\n            // Buttons\n            discoButton: '.ssg-button[data-viewport=\\'disco\\']',\n            btnShowCode: '.ssg-button[data-action=\\'ssg-code\\']',\n            btnShowAnnotion: '.ssg-button[data-action=\\'ssg-annot\\']',\n            btnShowToC: '.ssg-button[data-action=\\'ssg-toc\\']',\n            tocItem: '.ssg-toc-item',\n            tocSearchBox: '.ssg-toc-searchbox',\n            tocSearchValue: 'toc-searchbox',\n            patternItem: 'div[class^=ssg-item]',\n            singleItemNavTitle: '#ssg-item-nav-label',\n            singleItemNav: 'ssg-core-nav',\n            singleNavLeft: 'ssg-left',\n            singleNavRight: 'ssg-right',\n            // States\n            state: {\n                active: 'active',\n                hidden: 'hidden',\n                show: 'show'\n            }\n        };\n        UI.State = (function () {\n            var STATE_KEY = \"ssg.UI.State\", XTRAS = ['isolate', 'code', 'annotation'], FILTERS = ['atoms', 'molecules', 'organism', 'templates', 'pages', 'single'], SCREEN = ['s', 'm', 'l', 'uwd', 'full', 'disco'];\n            var _currentUIState = null;\n            // default UI State;\n            var defState = {\n                \"filter\": \"atoms\",\n                \"xtras\": ['annotation'],\n                \"screen\": window.screen.availWidth\n            };\n            // Validate current state entry\n            var _validateState = function (state) {\n                // checking if all states are valid\n                var checkSumXtras = 0, checkSumFilter = 0, checkSumScreen = 0;\n                // Check current xtra selection\n                for (var i = state.xtras.length - 1; i > 0; i--) {\n                    var curState = state.xtras[i];\n                    if (XTRAS.indexOf(curState) === -1) {\n                        checkSumXtras += 1;\n                    }\n                }\n                // Check current filter\n                if (FILTERS.indexOf(state.filter) === -1) {\n                    checkSumFilter += 1;\n                }\n                // check current screen\n                try {\n                    parseInt(state.screen.toString());\n                }\n                catch (exception) {\n                    console.log(\"ERROR:\" + exception);\n                    checkSumScreen += 1;\n                }\n                if (checkSumFilter + checkSumXtras + checkSumScreen === 0) {\n                    return true;\n                }\n                return false;\n            };\n            var _updateState = function (state) {\n                var curState = state;\n                if (_validateState(state)) {\n                    localStorage.setItem(STATE_KEY, JSON.stringify(curState));\n                }\n                else {\n                    throw \"There are some errors with the state\";\n                }\n            };\n            (function () {\n                var sessionState = localStorage.getItem(STATE_KEY);\n                // If session already exists\n                if (sessionState) {\n                    _currentUIState = JSON.parse(sessionState);\n                }\n                else {\n                    localStorage.setItem(STATE_KEY, JSON.stringify(defState));\n                    _currentUIState = defState;\n                }\n            })();\n            return {\n                current: function () {\n                    return _currentUIState;\n                },\n                update: function (state) {\n                    _updateState(state);\n                }\n            };\n        })();\n        var Utils;\n        (function (Utils) {\n            Utils.requestData = function (method, url) {\n                return new Promise(function (resolve, reject) {\n                    var xhr;\n                    var loaded = function () {\n                        if (this.status >= 200 && this.status < 300) {\n                            resolve(xhr.response);\n                        }\n                        else {\n                            reject({\n                                status: this.status,\n                                statusText: xhr.statusText\n                            });\n                        }\n                    };\n                    var onError = function () {\n                        reject({\n                            status: this.status,\n                            statusText: xhr.statusText\n                        });\n                    };\n                    xhr = new XMLHttpRequest();\n                    xhr.open(method, url);\n                    xhr.onload = loaded;\n                    xhr.onerror = onError;\n                    xhr.send();\n                });\n            };\n            Utils.changeItemToSinglePage = function (nodes) {\n                var nodeCount = nodes.length;\n                while (nodeCount !== 0) {\n                    nodeCount -= 1;\n                    var curNode = nodes[nodeCount];\n                    if (curNode.classList.contains('ssg-item')) {\n                        curNode.classList.remove('ssg-item');\n                        curNode.classList.add('ssg-item-single');\n                    }\n                }\n            };\n            Utils.hideSingleItemSlider = function (hide) {\n                var singleItemSelector = doc.querySelector(\".\" + coreUiElement.singleItemNav);\n                if (singleItemSelector !== undefined && singleItemSelector !== null) {\n                    if (hide === true) {\n                        singleItemSelector.classList.add(coreUiElement.state.hidden);\n                    }\n                    else {\n                        singleItemSelector.classList.remove(coreUiElement.state.hidden);\n                    }\n                }\n            };\n        })(Utils = UI.Utils || (UI.Utils = {}));\n        ;\n        UI.Filter = {\n            sliderSelection: function (filter) {\n                var allElements = doc.querySelectorAll('div[data-cat]'), firstItemFound = false;\n                // reset currentSingleItem\n                currentSingleItems = [];\n                for (var i = 0; i < allElements.length; i++) {\n                    var curElement = allElements[i];\n                    if (curElement.dataset['cat'] === filter) {\n                        var curSingleItem = {\n                            title: curElement.getAttribute('title'),\n                            file: curElement.dataset['file'],\n                            category: filter\n                        };\n                        currentSingleItems.push(curSingleItem);\n                        if (firstItemFound === false) {\n                            currentSingleCount = 0;\n                            firstItemFound = true;\n                            if (curElement.classList.contains('hide')) {\n                                curElement.classList.remove('hide');\n                            }\n                        }\n                        else {\n                            curElement.classList.add('hide');\n                        }\n                    }\n                    else {\n                        curElement.classList.add('hide');\n                    }\n                }\n                ssg.UI.EnableSingleSlider(currentSingleItems);\n                if (currentSingleItems.length > 1) {\n                    ssg.UI.Utils.hideSingleItemSlider(false);\n                }\n                else {\n                    ssg.UI.Utils.hideSingleItemSlider(true);\n                }\n            },\n            elements: function (filterValue) {\n                switch (filterValue) {\n                    case \"atoms\":\n                    case \"molecules\":\n                        var newState = ssg.UI.State.current();\n                        newState.filter = filterValue;\n                        ssg.UI.State.update(newState);\n                        var allElements = doc.querySelectorAll('div[data-cat]');\n                        for (var i = allElements.length - 1; i >= 0; i--) {\n                            var curElement = allElements[i];\n                            if (curElement.dataset['cat'] === filterValue) {\n                                curElement.classList.remove('hide');\n                            }\n                            else {\n                                curElement.classList.add('hide');\n                            }\n                        }\n                        ssg.UI.Utils.hideSingleItemSlider(true);\n                        break;\n                    case \"organism\":\n                        ssg.UI.Filter.sliderSelection(filterValue);\n                        break;\n                    case \"templates\":\n                        ssg.UI.Filter.sliderSelection(filterValue);\n                        break;\n                    case \"pages\":\n                        ssg.UI.Filter.sliderSelection(filterValue);\n                        break;\n                    default:\n                        break;\n                }\n            }\n        };\n        UI.initDisco = function () {\n            var disco = setInterval(function () {\n                var discoButton = document.querySelector(coreUiElement.discoButton + \".\" + coreUiElement.state.active), viewPortInner = doc.querySelector(coreUiElement.viewPortTarget), viewPortWidth = doc.querySelector(coreUiElement.viewPortWidth);\n                if (discoButton !== null) {\n                    var curViewPort = Math.floor(Math.random() * (viewports.length - 0)) + 0;\n                    viewPortWidth.value = viewPortInner.style.width = viewports[curViewPort].toString();\n                }\n                else {\n                    clearInterval(disco);\n                }\n            }, 1000);\n        };\n        UI.Events = {\n            // change all filter\n            changeFilter: function (event) {\n                // prevent all default\n                event.preventDefault();\n                var allButtons = doc.querySelectorAll(coreUiElement.filterButton);\n                for (var i = allButtons.length - 1; i >= 0; i--) {\n                    if (allButtons[i].classList.contains(coreUiElement.state.active)) {\n                        allButtons[i].classList.remove(coreUiElement.state.active);\n                    }\n                }\n                var curButton = event.target, filter = curButton.dataset['filter'];\n                curButton.classList.add(coreUiElement.state.active);\n                UI.Filter.elements(filter);\n                // Check if toc button is active otherwise remove state.\n                var tocButton = doc.querySelectorAll(coreUiElement.btnShowToC);\n                // if toc button was found\n                if (tocButton.length !== 0) {\n                    // remove active state in case toc was selected\n                    if (tocButton[0].classList.contains(coreUiElement.state.active)) {\n                        tocButton[0].classList.remove('active');\n                    }\n                }\n                ;\n                var curState = ssg.UI.State.current();\n                curState.filter = filter;\n                ssg.UI.State.update(curState);\n                return false;\n            },\n            // change view - Add isolated, code, Annotation\n            changeView: function (event) {\n                // prevent all default\n                event.preventDefault();\n                var curButton = event.target, filter = curButton.dataset['filter'];\n                curButton.classList.contains(coreUiElement.state.active) ?\n                    curButton.classList.remove(coreUiElement.state.active) : curButton.classList.add(coreUiElement.state.active);\n            },\n            // adjust view port to differnet width\n            changeViewPort: function (event) {\n                event.preventDefault();\n                var vpButton = event.target, vpActiveButton = doc.querySelector(coreUiElement.viewPortButton + '.' + coreUiElement.state.active), vpData = vpButton.dataset['viewport'], vpTarget = doc.querySelector(coreUiElement.viewPortTarget), widthInput = doc.querySelector(coreUiElement.viewPortWidth);\n                // Updating State\n                var newState = ssg.UI.State.current();\n                newState.screen = vpData;\n                ssg.UI.State.update(newState);\n                // remove current active button\n                if (vpActiveButton !== null) {\n                    vpActiveButton.classList.remove(coreUiElement.state.active);\n                }\n                if (vpActiveButton === vpButton) {\n                    vpButton.classList.remove(coreUiElement.state.active);\n                    vpData = 'full';\n                }\n                else {\n                    vpButton.classList.add(coreUiElement.state.active);\n                }\n                // recheck Active Buttons\n                vpActiveButton = doc.querySelector(coreUiElement.viewPortButton + '.' + coreUiElement.state.active);\n                if (vpActiveButton === null) {\n                    vpActiveButton = doc.querySelector('.ssg-button[data-viewport=\\'full\\']');\n                    vpActiveButton.classList.add(coreUiElement.state.active);\n                }\n                // action what to do\n                if (typeof vpTarget !== undefined) {\n                    switch (vpData) {\n                        case 'full':\n                            vpData = vpTarget.style.width = win.innerWidth.toString();\n                            break;\n                        case 'disco':\n                            ssg.UI.initDisco();\n                            break;\n                        default:\n                            vpTarget.style.width = vpData;\n                            break;\n                    }\n                }\n                if (vpData !== 'disco') {\n                    // Update width indicator\n                    vpTarget = doc.querySelector(coreUiElement.viewPortTarget);\n                    widthInput.value = vpData;\n                }\n            },\n            // Resize View Port through manual update of width\n            viewPortResizer: function (event) {\n                if (event instanceof KeyboardEvent) {\n                    var kbEvent = event;\n                    if (kbEvent.keyCode == 13) {\n                        var innerPattern = doc.querySelector(coreUiElement.viewPortTarget), newWidth = doc.querySelector(coreUiElement.viewPortWidth);\n                        innerPattern.style.width = newWidth.value;\n                    }\n                }\n                else {\n                    var innerPattern = doc.querySelector(coreUiElement.viewPortTarget), newWidth = doc.querySelector(coreUiElement.viewPortWidth);\n                    innerPattern.style.width = newWidth.value;\n                }\n            },\n            // Show and hides source code\n            showSource: function (event) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                // Updating State\n                var newState = ssg.UI.State.current();\n                // check if code is already included in UI Extras\n                if (newState.xtras.indexOf('code') === -1) {\n                    newState.xtras.push('code');\n                }\n                else {\n                    var newXtras = newState.xtras.filter(function (e) { return e !== 'code'; });\n                    newState.xtras = newXtras;\n                }\n                ssg.UI.State.update(newState);\n                if (event.target.classList.contains(coreUiElement.state.active)) {\n                    // sho source code by adding class\n                    var codeBlocks = doc.querySelectorAll('.ssg-item-code');\n                    for (var i = codeBlocks.length - 1; i >= 0; i--) {\n                        codeBlocks[i].classList.add(coreUiElement.state.show);\n                    }\n                }\n                else {\n                    // hide source code by removing the class\n                    var codeBlocks = doc.querySelectorAll('.ssg-item-code');\n                    for (var i = codeBlocks.length - 1; i >= 0; i--) {\n                        codeBlocks[i].classList.remove(coreUiElement.state.show);\n                    }\n                }\n            },\n            // show and hides annotations\n            showAnnotation: function (event) {\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                // Updating State\n                var newState = ssg.UI.State.current();\n                // check if code is already included in UI Extras\n                if (newState.xtras.indexOf('annotation') === -1) {\n                    newState.xtras.push('annotation');\n                }\n                else {\n                    var newXtras = newState.xtras.filter(function (e) { return e !== 'annotation'; });\n                    newState.xtras = newXtras;\n                }\n                ssg.UI.State.update(newState);\n                if (event.target.classList.contains(coreUiElement.state.active)) {\n                    // show annotation by adding class\n                    var codeBlocks = doc.querySelectorAll('.ssg-item-description');\n                    for (var i = codeBlocks.length - 1; i >= 0; i--) {\n                        codeBlocks[i].classList.add(coreUiElement.state.show);\n                    }\n                }\n                else {\n                    // hide annotation code by removing the class\n                    var codeBlocks = doc.querySelectorAll('.ssg-item-description');\n                    for (var i = codeBlocks.length - 1; i >= 0; i--) {\n                        codeBlocks[i].classList.remove(coreUiElement.state.show);\n                    }\n                }\n            },\n            // show and collapse table of contents\n            showToc: function (event) {\n                event.preventDefault();\n                var currentButton = event.target, containerToc = doc.querySelector(coreUiElement.viewToc);\n                currentButton !== null && currentButton.classList.contains(coreUiElement.state.active) ?\n                    currentButton.classList.remove(coreUiElement.state.active) : currentButton.classList.add(coreUiElement.state.active);\n                if (containerToc !== null) {\n                    if (containerToc.classList.contains(coreUiElement.state.show)) {\n                        containerToc.classList.add(coreUiElement.state.hidden);\n                        containerToc.classList.remove(coreUiElement.state.show);\n                    }\n                    else {\n                        containerToc.classList.remove(coreUiElement.state.hidden);\n                        containerToc.classList.add(coreUiElement.state.show);\n                    }\n                }\n            },\n            // filter single toc element\n            filterToc: function (event) {\n                event.preventDefault();\n                var currentToc = event.target, filter = currentToc.dataset['filter'], filterFolder = currentToc.dataset['folder'], filterCat = (currentToc.parentNode.attributes.getNamedItem('id').value), tocButton = doc.querySelector(ssg.UI.btnShowToC);\n                if (tocButton) {\n                    tocButton[0].classList.add('active');\n                }\n                if (filterCat) {\n                    if (filterFolder === 'templates' ||\n                        filterFolder === 'organism' ||\n                        filterFolder === 'page') {\n                        var selectedItems = doc.querySelectorAll('div[data-cat=' + filterFolder + ']');\n                        // Updating current state\n                        var curState = ssg.UI.State.current();\n                        curState.filterSelector = '.' + filter;\n                        ssg.UI.State.update(curState);\n                        ssg.UI.Filter.sliderSelection(filterFolder);\n                    }\n                    else {\n                        ssg.UI.Utils.hideSingleItemSlider(true);\n                    }\n                    var category = filterCat.split('-')[1];\n                    var filterButtons = document.querySelectorAll('.ssg-core-filter .ssg-button');\n                    for (var i = filterButtons.length - 1; i >= 0; i--) {\n                        var curFilterButton = filterButtons[i], curFilterStyle = curFilterButton.classList, curDataSet = curFilterButton.dataset['filter'];\n                        if (curFilterStyle.contains('active')) {\n                            curFilterStyle.remove('active');\n                        }\n                        if (curDataSet === category) {\n                            curFilterStyle.add('active');\n                        }\n                    }\n                }\n                // Updating State\n                var newState = ssg.UI.State.current();\n                newState.filter = 'single';\n                newState.filterSelector = '.' + filter;\n                ssg.UI.State.update(newState);\n                if (filter !== null) {\n                    var allElements = doc.querySelectorAll(coreUiElement.patternItem), tocElement = doc.querySelector(coreUiElement.viewToc);\n                    for (var i = allElements.length - 1; i >= 0; i--) {\n                        var curItem = allElements[i];\n                        if (curItem.dataset['file'] === filter) {\n                            curItem.classList.remove('hide');\n                        }\n                        else {\n                            curItem.classList.add('hide');\n                        }\n                    }\n                    tocElement.classList.remove('show');\n                    tocElement.classList.add('hidden');\n                }\n            },\n            // search for item in toc\n            searchToc: function (event) {\n                event.preventDefault();\n                var searchBox = doc.getElementById(coreUiElement.tocSearchValue);\n                if (searchBox !== null) {\n                    var searchValue = searchBox.value;\n                    var resetResult = doc.querySelectorAll('.ssg-toc-item');\n                    for (var j = resetResult.length - 1; j >= 0; j--) {\n                        if (resetResult[j].classList.contains('hide')) {\n                            resetResult[j].classList.remove('hide');\n                        }\n                    }\n                    if (searchValue !== '') {\n                        var searchResult = doc.querySelectorAll(\".ssg-toc-item:not([data-filter*='\" + searchValue + \"'])\");\n                        if (searchResult !== null) {\n                            for (var i = searchResult.length - 1; i >= 0; i--) {\n                                searchResult[i].classList.add('hide');\n                            }\n                        }\n                    }\n                }\n            },\n            // register specific event on all notes\n            registerEvents: function (curElements, eventType, handler) {\n                for (var i = curElements.length - 1; i >= 0; i--) {\n                    curElements[i].addEventListener(eventType, handler);\n                }\n            }\n        };\n        UI.Render = function () {\n            var RenderToc = function (patternConfig) {\n                var patterns = patternConfig.patterns.filter(function (object) {\n                    return object[\"deleted\"] === undefined;\n                }), folder = patternConfig.folder, ssgToc = doc.querySelector(coreUiElement.viewTocInner);\n                for (var i = 0; i < folder.length; i++) {\n                    var baseElement = '<ul><li id=ssg-' + folder[i].name + ' class=ssg-toc-header>' +\n                        folder[i].name +\n                        '</li><ul id=ssg-' + folder[i].name + '-items class=ssg-toc-items></ul></ul>';\n                    ssgToc.insertAdjacentHTML('beforeend', baseElement);\n                }\n                for (var j = 0; j < patterns.length; j++) {\n                    var folderpath = patterns[j].filepath.split('/')[0];\n                    var patternTitle = '<li class=ssg-toc-item data-filter=\\\"' +\n                        patterns[j].filename + '\\\" ' +\n                        ' data-folder=\\\"' + folderpath + '\\\" ' +\n                        '>' +\n                        patterns[j].title + '</li>';\n                    var currentSection = doc.getElementById('ssg-' + folderpath + '-items');\n                    if (currentSection !== null) {\n                        currentSection.insertAdjacentHTML('beforeend', patternTitle);\n                    }\n                }\n                var tocItems = doc.querySelectorAll(coreUiElement.tocItem);\n                for (var k = 0; k < tocItems.length; k++) {\n                    tocItems[k].addEventListener('click', UI.Events.filterToc);\n                }\n            };\n            var container = doc.querySelector(coreUiElement.viewPortTarget), tocContainer = doc.querySelector(coreUiElement.viewTocInner);\n            var allContent = '', allToc = '', parser = new DOMParser();\n            for (var i = patternConfig.patterns.length - 1; i >= 0; i--) {\n                var curPattern = patternConfig.patterns[i], curPatternTitle = curPattern.filename, curTemplate = ssgTemplates[curPatternTitle];\n                // Define base filter\n                curPattern.baseFilter = curPattern.filepath.split('/')[0];\n                if (curPattern !== null) {\n                    curPattern.sample = curTemplate !== undefined ? curTemplate(ssgData) : curTemplate;\n                    var content = ssgCoreTemplates.patternItem(curPattern);\n                    try {\n                        // Parse Document and check if all elements are properly closed\n                        var domContent = parser.parseFromString(content, 'text/html');\n                        // Append parsed content\n                        allContent = domContent.body.innerHTML + allContent;\n                    }\n                    catch (exception) {\n                        console.log(exception);\n                    }\n                }\n            }\n            var allContentDOM = parser.parseFromString(allContent, 'text/html');\n            // alter templates and pages\n            var allTempLates = allContentDOM.querySelectorAll('div[data-cat=templates]'), allPages = allContentDOM.querySelectorAll('div[data-cat=pages]'), allOrganism = allContentDOM.querySelectorAll('div[data-cat=organism]');\n            Utils.changeItemToSinglePage(allTempLates);\n            Utils.changeItemToSinglePage(allPages);\n            Utils.changeItemToSinglePage(allOrganism);\n            container.insertAdjacentHTML('afterbegin', allContentDOM.body.innerHTML);\n            Prism.highlightAll();\n            RenderToc(patternConfig);\n            UI.ApplyUIState(ssg.UI.State.current());\n        };\n        UI.ApplyUIState = function (state) {\n            var applyFilter = function (state) {\n                if (state.filter !== undefined\n                    && state.filter !== 'single') {\n                    var buttons = doc.querySelectorAll(\".ssg-button[data-filter]\");\n                    // Set correct button\n                    for (var i = buttons.length - 1; i >= 0; i--) {\n                        var curButton = buttons[i];\n                        if (curButton.dataset !== null\n                            && curButton.dataset !== undefined\n                            && curButton.dataset['filter'] === state.filter) {\n                            if (!curButton.classList.contains('active')) {\n                                curButton.classList.add('active');\n                            }\n                        }\n                        else {\n                            if (curButton.classList.contains('active')) {\n                                curButton.classList.remove('active');\n                            }\n                        }\n                    }\n                    var query = \"div[class^='ssg-item'][data-cat='\" + state.filter + \"']\", invQuery = \"div[class^='ssg-item']:not([data-cat='\" + state.filter + \"'])\";\n                    if (state.filter === 'single') {\n                        var filter = state.filterSelector.substr(1);\n                        query = \"div[data-file='\" + filter + \"']\";\n                        invQuery = \"div:not([data-file='\" + filter + \"'])\";\n                        var tocButton = doc.querySelectorAll(\".ssg-button[data-action='ssg-toc']\");\n                        if (tocButton !== undefined && tocButton.length === 1) {\n                            tocButton[0].classList.add('active');\n                        }\n                    }\n                    if (state.filter === 'organism' ||\n                        state.filter === 'molecules' ||\n                        state.filter === 'templates') {\n                        ssg.UI.Filter.sliderSelection(state.filter);\n                    }\n                    // unselect all\n                    var notSelItems = doc.querySelectorAll(invQuery);\n                    for (var i = notSelItems.length - 1; i >= 0; i--) {\n                        notSelItems[i].classList.add('hide');\n                    }\n                    // make sure all are selected\n                    var selItems = doc.querySelectorAll(query);\n                    if (selItems.length === 1) {\n                        var curItem = selItems[0];\n                        if (curItem.dataset.cat !== undefined\n                            && curItem.dataset.cat !== null\n                            && (curItem.dataset.cat === 'templates'\n                                || curItem.dataset.cat === 'pages'\n                                || curItem.dataset.cat === 'organism')) {\n                            ssg.UI.Filter.sliderSelection(curItem.dataset.cat);\n                        }\n                        else {\n                            ssg.UI.Utils.hideSingleItemSlider(true);\n                        }\n                    }\n                    else {\n                        for (var i = selItems.length - 1; i >= 0; i--) {\n                            selItems[i].classList.remove('hide');\n                        }\n                    }\n                }\n                else if (state.filter === 'single') {\n                    var tocButton = doc.querySelector(coreUiElement.btnShowToC);\n                    tocButton.classList.add('active');\n                    if (state.filterSelector !== undefined &&\n                        state.filterSelector !== null) {\n                        var curFilter = state.filterSelector.substr(1);\n                        var allAMItems = [].slice.call(doc.querySelectorAll('div[class=ssg-item')), allOPTItems = [].slice.call(doc.querySelectorAll('div[class=ssg-item-single')), allItems = allAMItems.concat(allOPTItems);\n                        for (var i = allItems.length - 1; i >= 0; i--) {\n                            if (allItems[i].dataset['file'] !== curFilter) {\n                                var curItem = allItems[i];\n                                curItem.classList.add('hide');\n                            }\n                        }\n                    }\n                }\n            };\n            // apply the correct selected scren width tot the viewport\n            var applyScreenWidth = function (state) {\n                var viewPortQuery = \"button[data-viewport='\" + state.screen + \"']\", viewPortInvQuery = \"button.active[data-viewport]\", \n                // selecting buttons\n                viewPortActiveButton = doc.querySelector(viewPortInvQuery), viewPortButton = doc.querySelector(viewPortQuery), \n                // width selector\n                widthSelector = doc.getElementById('ssg-in-width'), contentWidth = doc.querySelector('.ssg-patterns-inner');\n                // If full screeen use actian width\n                if (state.screen === 'full') {\n                    state.screen = window.innerWidth;\n                }\n                // set inner screen width of patterns\n                contentWidth.style.width = state.screen + \"px\";\n                // view width selector\n                widthSelector.value = state.screen;\n                // activate viewport button\n                if (viewPortButton !== undefined\n                    && viewPortButton !== null) {\n                    viewPortButton.classList.add('active');\n                    if (viewPortButton !== viewPortActiveButton) {\n                        viewPortActiveButton.classList.remove('active');\n                    }\n                }\n            };\n            // applies extras such as shwo Source code\n            var applyExtras = function (state) {\n                // Set annotation button and enable annotations\n                if (state.xtras.indexOf('annotation') !== -1) {\n                    var notes = doc.querySelectorAll('.ssg-item-description');\n                    for (var i = notes.length - 1; i >= 0; i--) {\n                        var curNote = notes[i];\n                        curNote.classList.add('show');\n                    }\n                    var notesButton = doc.querySelectorAll(\"button[data-action='ssg-annot']\");\n                    for (var i = notesButton.length - 1; i >= 0; i--) {\n                        notesButton[i].classList.add('active');\n                    }\n                }\n                // Set code button and shows code\n                if (state.xtras.indexOf('code') !== -1) {\n                    var notes = doc.querySelectorAll('.ssg-item-code');\n                    for (var i = notes.length - 1; i >= 0; i--) {\n                        var curNote = notes[i];\n                        curNote.classList.add('show');\n                    }\n                    var notesButton = doc.querySelectorAll(\"button[data-action='ssg-code']\");\n                    for (var i = notesButton.length - 1; i >= 0; i--) {\n                        notesButton[i].classList.add('active');\n                    }\n                }\n            };\n            applyFilter(state);\n            applyScreenWidth(state);\n            applyExtras(state);\n        };\n        UI.EnableSingleSlider = function (currentSingleItems, filter) {\n            var slideItems = currentSingleItems;\n            var setCurrentItem = function (index) {\n                var curElement = slideItems[index];\n                currentTitle.textContent = curElement.title;\n                var allElements = doc.querySelectorAll('div[data-cat=\\'' + slideItems[currentSingleCount].category + '\\']');\n                for (var j = 0; j < allElements.length; j++) {\n                    var curPatternElement = allElements[j];\n                    if (curPatternElement.dataset['file'] === curElement.file) {\n                        curPatternElement.classList.remove('hide');\n                        var newState = ssg.UI.State.current();\n                        // newState.filter = \"single\";\n                        newState.filterSelector = '.' + curPatternElement.dataset['file'];\n                        ssg.UI.State.update(newState);\n                    }\n                    else {\n                        curPatternElement.classList.add('hide');\n                    }\n                }\n            };\n            var slidePatterns = function (event) {\n                event.preventDefault();\n                event.stopPropagation();\n                var currentButton = event.target;\n                if (currentButton !== null) {\n                    if (currentButton.dataset['filter'] === coreUiElement.singleNavLeft) {\n                        currentSingleCount -= 1;\n                    }\n                    ;\n                    if (currentButton.dataset['filter'] === coreUiElement.singleNavRight) {\n                        currentSingleCount += 1;\n                    }\n                    ;\n                    if (currentSingleCount > currentSingleItems.length - 1) {\n                        currentSingleCount = 0;\n                    }\n                    if (currentSingleCount < 0) {\n                        currentSingleCount = currentSingleItems.length - 1;\n                    }\n                }\n                setCurrentItem(currentSingleCount);\n            };\n            // check if only one pattern is in current selection\n            if (slideItems.length <= 1) {\n                return;\n            }\n            var currentTitle = doc.querySelector(coreUiElement.singleItemNavTitle);\n            currentTitle.textContent = slideItems[0].title;\n            // let slider = doc.querySelectorAll('.ssg-core-nav .ssg-button[data-filter=\\'' + filter + '\\']');\n            var slider = doc.querySelectorAll('.ssg-core-nav .ssg-button');\n            for (var i = 0; i < slider.length; i++) {\n                // remova all previous registered event handler\n                var currentButton = slider[i];\n                // clone current node without event handler\n                var newButton = currentButton.cloneNode(true);\n                // register new Click event\n                newButton.addEventListener('click', slidePatterns);\n                // replace element\n                currentButton.parentNode.replaceChild(newButton, currentButton);\n            }\n            var curState = ssg.UI.State.current();\n            // Check if TOC have been selected\n            if (curState.filterSelector !== undefined) {\n                // Setting current Item count i case filter using TOC\n                currentSingleCount = currentSingleItems.findIndex(function (x) { return x.file === curState.filterSelector.substring(1); });\n                // Update from current filter\n                setCurrentItem(currentSingleCount);\n            }\n        };\n        UI.ShowSliderCtrl = function (show) {\n            var singleSliderControl = document.querySelector('.' + coreUiElement.singleItemNav);\n            if (show) {\n                singleSliderControl.classList.remove('hidden');\n            }\n            else {\n                singleSliderControl.classList.add('hidden');\n            }\n        };\n        UI.InitEvents = function () {\n            // Render Events\n            var filterButtons = doc.querySelectorAll(coreUiElement.filterButton), viewButtons = doc.querySelectorAll(coreUiElement.viewButton), viewPortButtons = doc.querySelectorAll(coreUiElement.viewPortButton), viewPortWidth = doc.querySelectorAll(coreUiElement.viewPortWidth), \n            // Action Buttons\n            showCode = doc.querySelectorAll(coreUiElement.btnShowCode), showAnnot = doc.querySelectorAll(coreUiElement.btnShowAnnotion), showToc = doc.querySelectorAll(coreUiElement.btnShowToC), \n            // TOC Eevent\n            allTocItems = doc.querySelectorAll(coreUiElement.tocSearchBox);\n            UI.Events.registerEvents(filterButtons, 'click', UI.Events.changeFilter);\n            UI.Events.registerEvents(viewButtons, 'click', UI.Events.changeView); // mabye obsolete?\n            UI.Events.registerEvents(viewPortButtons, 'click', UI.Events.changeViewPort);\n            UI.Events.registerEvents(viewPortWidth, 'blur', UI.Events.viewPortResizer);\n            UI.Events.registerEvents(viewPortWidth, 'focusout', UI.Events.viewPortResizer);\n            UI.Events.registerEvents(viewPortWidth, 'keypress', UI.Events.viewPortResizer);\n            UI.Events.registerEvents(showCode, 'click', UI.Events.showSource);\n            UI.Events.registerEvents(showAnnot, 'click', UI.Events.showAnnotation);\n            // show and hide table fo contents\n            UI.Events.registerEvents(showToc, 'click', UI.Events.showToc);\n            // Search table of contents\n            UI.Events.registerEvents(allTocItems, 'keyup', UI.Events.searchToc);\n        };\n        UI.Init = function () {\n            Promise.all([ssg.UI.Utils.requestData('GET', '/_config/pattern.conf.json')])\n                .then(function (result) {\n                try {\n                    patternConfig = JSON.parse(result.toString());\n                }\n                catch (error) {\n                    console.log(error);\n                }\n            })\n                .then(function () {\n                UI.Render();\n                UI.InitEvents();\n                UI.ApplyUIState(ssg.UI.State.current());\n                if (UI.PostRender.length !== 0) {\n                    UI.PostRender.forEach(function (element) {\n                        element();\n                    });\n                }\n            })\n                .catch(function (error) {\n                console.log(error);\n            });\n        };\n        UI.PostRender = [];\n    })(UI = ssg_1.UI || (ssg_1.UI = {}));\n})(ssg || (ssg = {}));\n;\nssg.UI.Init();\n","Handlebars.registerHelper('description', function (block) {\n    var description = \"\", markdownKey = block.data.root.baseFilter + '_' + block.data.root.title;\n    if (ssgDoc[markdownKey] !== undefined) {\n        description = ssgDoc[markdownKey].body;\n        return new Handlebars.SafeString(description);\n    }\n    else {\n        // description = block.data.root.description;\n        return block.data.root.description;\n    }\n});\n"],"file":"ssg.ui-min.js"}